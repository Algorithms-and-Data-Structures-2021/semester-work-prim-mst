# Алгоритм Прима

[![CMake](https://github.com/Algorithms-and-Data-Structures-2021/semester-work-prim-mst/actions/workflows/cmake.yml/badge.svg)](https://github.com/Algorithms-and-Data-Structures-2021/semester-work-prim-mst/actions/workflows/cmake.yml)


- Алгоритм Прима (англ. Prim's algorithm) — алгоритм поиска минимального остовного дерева (англ. minimum spanning tree, MST) во взвешенном неориентированном связном графе. Реализация с использованием двоичной кучи.
- Сам алгоритм имеет очень простой вид. Искомый минимальный остов строится постепенно, добавлением в него рёбер по одному. Изначально остов полагается состоящим из единственной вершины (её можно выбрать произвольно). На ряду с этим создаётся минимальная двоичная куча(min-heap), в которой ключи - это расстояния от начальной вершины до остальных. Затем выбирается ребро минимального веса, исходящее из этой вершины, и добавляется в остов(двоичную кучу). После этого остов(двоичная куча) содержит уже две вершины, и теперь ищется и добавляется ребро минимального веса, имеющее один конец в одной из двух выбранных вершин, а другой — наоборот, во всех остальных, кроме этих двух. И так далее, т.е. всякий раз ищется минимальное по весу ребро, один конец которого — уже взятая в остов(двоичную кучу) вершина, а другой конец — ещё не взятая, и это ребро добавляется в остов(двоичную кучу), а если таких рёбер несколько, то можно взять любое. Этот процесс повторяется до тех пор, пока остов(двоичная куча) не станет содержать все вершины (или, что то же самое,  ребро). В итоге будет построен остов(двоичная куча), являющийся минимальным. Если граф был изначально не связен, то остов найден не будет (количество выбранных рёбер останется меньше ).
- Сложность алгоритма - O(E logV), где Е - множество ребер, V - множество вершин.




## Команда "Stack Overflow"

| Фамилия Имя        | Вклад (%)   | Прозвище        |
| :---               |    ---:     |  ---:           |
| Кобылин Константин |    33.3     |  _Костя_        |
| Губайдуллин Ильшат |    33.3     |  _Ильшат_       |
| Иванов Тимур       |    33.3     |  _Тимур_        |

**Девиз команды**
> _Все победы начинаются с победы над самим собой._

## Структура проекта


 Проект состоит из следующих частей:

- [`src`](src)/[`include`](include) - реализация структуры данных (исходный код и заголовочные файлы);
- [`benchmark`](benchmark) - контрольные тесты производительности структуры данных (операции добавления, удаления,
  поиска и пр.);
- [`examples`](examples) - примеры работы со структурой данных;
- [`dataset`](dataset) - наборы данных для запуска контрольных тестов и их генерация;

## Требования (Prerequisites)

Рекомендуемые требования:

1. С++ компилятор c поддержкой стандарта C++17 (например, _GNU GCC 8.1.x_ и выше).
2. Система автоматизации сборки _CMake_ (версия _3.12.x_ и выше).
3. Интерпретатор _Python_ (версия _3.7.x_ и выше).
4. Рекомендуемый объем оперативной памяти - не менее 4 ГБ.
5. Свободное дисковое пространство объемом ~ 3 ГБ (набор данных для контрольных тестов).

## Сборка и запуск

### Пример (Windows)

#### Сборка проекта

_Опишите процесс сборки проекта._

Склонируйте проект к себе на устройство через [Git for Windows](https://gitforwindows.org/) (либо используйте
возможности IDE):

```shell
git clone https://github.com/Algorithms-and-Data-Structures-2021/semester-work-prim-mst.git
```

Для ручной сборки проекта в терминале введите:

```shell
# переход в папку с проектом
cd C:\Users\username\asd-projects\semester-work-prim-mst

# создание папки для файлов сборки (чтобы не засорять папку с проектом) 
mkdir -p build && cd build 

# сборка проекта
cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo && cmake --config RelWithDebInfo --build . 
```

#### Генерация тестовых данных

Генерация тестового набора данных в
формате [comma-seperated values (CSV)](https://en.wikipedia.org/wiki/Comma-separated_values):

```shell
# переход в папку генерации набора данных
cd dataset

# запуск Python-скрипта
python generator.py
```
Все папки и файлы автоматически сгенерируются

Тестовые данные представлены в CSV формате.
Пример:
```shell
1. 0 1 40
2. 1 0 40
3. 1 2 35
...
```

Директория с наборами данных выглядит примерно так:

```shell
dataset/data/
   01/
     100.csv
     ...
     500000.csv
   02/...
   03/...
   ...
   06/
     100.csv
     ...
     1000000.csv
 ```

Названия файлов `100.csv`. `5000000.csv` и т.д. хранят информацию о размере набора данных (т.е. количество элементов). 

#### Контрольные тесты (benchmarks)

Для запуска контрольных тестов необходимо предварительно сгенерировать или скачать готовый набор тестовых данных.

##### Список контрольных тестов

| Название                  | Описание                                             | Метрики         |
| :---                      | ---                                                  | :---            |
| `benchmark`               | содержит в себе бенчмарк на алгоритм                 | _время_         |

##### Примеры запуска
Для начала нужно изменить код в файле. Для этого открываем код в редакторе, например, clion.

После открытия ищем данный фрагмент кода:
![image](https://user-images.githubusercontent.com/79850098/119274185-58803900-bc17-11eb-8dbd-07268fbe591f.png)

Здесь мы меняем переменные trials, count_of_elements и dataset на нужные.

В верхнем примере кода у нас бенчмарки с 10-ью прогонами на 5-ом наборе данных с количеством элементов 500000.

Также можно поменять время, которое будет выводится в консоль:

![image](https://user-images.githubusercontent.com/79850098/119274253-a006c500-bc17-11eb-9c3f-aa831bdf1735.png)

Так можно milliseconds заменить на microseconds, чтобы время выводилось в микросекундах.

Остается построить и запустить код. Это можно сдедать напрямую в clion, либо built код в clion, а затем запустить с помощью консоли:

```shell
./benchmark.exe
```

В консоле будет выводится время в миллисекундах.

## Источники

|  [e-maxx](https://e-maxx.ru/algo/mst_prim)                                                                                       |
|  :---                                                                                                                            |
|  [wikipedia](https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%9F%D1%80%D0%B8%D0%BC%D0%B0)      |
|  [studopedia](https://studopedia.ru/3_53232_algoritm-prima.html)                                                                 |
|  [Гугл диск](https://drive.google.com/drive/folders/1QdP5sfKVR--9La1cZpMYVQpgkrIEIrqT)                                           |
